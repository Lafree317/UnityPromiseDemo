import "UnityEngine"
local Promise = require("LuaPromise")
-- main方法,入口函数
function main()

end

function LuaPromise()
    StepOne("StepOne")
    :next(function(value)
        return StepTwo(value)
    end):next(function(value)
       return StepThree(value)
    end):next(function(value)
        print(value)
    end,function(err)
        print(err)
    end)
end

function LuaPromiseAll()
    print("LuaPromiseAll")
end

function LuaPromiseCrash()
    print("LuaPromiseCrash")
end



function StepOne(value)
    local p = Promise.new()
    local v = value.." Done\n"
    print(v)
    p:resolve(v)
    return p
end

function StepTwo(value)
    local p = Promise.new()
    local v = value.." StepTwo Done\n"
    print(v)
    p:resolve(v)
    -- p:reject("error")
    return p
end

function StepThree(value)
    local p = Promise.new()
    local v = value.." StepThree Done\n"
    print(v)
    p:resolve(v)
    return p
end

